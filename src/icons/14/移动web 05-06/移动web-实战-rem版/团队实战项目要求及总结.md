## 移动web实战

### 目的

1. 了解实际移动端页面开发流程
2. 独立完成移动租房网页的整体布局的能力
3. 掌握移动端常见布局思路

### 前置知识

```css
1. 熟悉开发流程
   需求产出原型图（产品经理） ->  根据原型图产出设计稿（UI） -> 根据UI图还原开发（前端）
   -> 开发完成交付测试（测试）->  测试完成交付验收（UI验收/产品验收）

2. 认真核对需求 （UI/产品）
   1. 需求是否合理
   2. 需求在技术上能否实现 （技术手段上思考）
   3. 需求的工期是否合理 （及时提出延期预警，请求排一下优先级）如果时间不够优先完成优先级高的
   注意：尽量保持做需求之前和设计产品等上游角色沟通清楚

3. 熟悉项目优先级和工期估算
   1.遇到项目并行排好优先级
   2.自己估算的时间要比实际的开发时间多要1-3天（预留处理紧急情况的时间）

4. 认识移动端主流设计稿
   以iphone6/7/8为参考的 设计尺寸（标注尺寸）为375px 设计稿图大小750px(二倍图)
```

### 要求及规范

#### 需求描述

```css
主要需求：按照要求高度还原租房设计稿
```

功能模块:

```sh
    ├── 头部模块        
    ├── 轮播图模块    
    ├── 整租合租模块        
    ├── 优惠模块      
    └── 推荐模块 
    └── 底部导航模块 
```

#### 适配要求

* 弹性盒子布局 + rem连续适配
2. 其他设备不得出现遮挡、塌陷、布局错乱、横向滚动条等情况
3. 适配范围 320-750px

#### 项目工期

```css
1 人/天
```

#### 代码规范

```css
1. 类名语义化,尽量精短、明确，必须以字母开头命名，且全部字母为小写，单词之间统一使用下划线“_” 连接；
2. 尽量避免直接使用标签选择器、使用id选择器；
3. 本次实战优先使用less
```

#### 目录规范

```css
 house               # 项目目录
    ├── css          # 样式文件夹
    ├── iconfont     # 字体图标文件夹
    ├── imgs         # 业务图片文件夹
    ├── icons        # 样式类图片文件夹
    ├── js           # 适配的JS文件
    └── index.html   # 首页
```

####  模块类名规范

| **模块名称** | **类名**   |
| ------------ | ---------- |
| 头部模块     | .header    |
| 轮播图模块   | .carousel  |
| 整租合租模块 | .rentnav   |
| 超级优惠模块 | .discount  |
| 推荐模块     | .recommend |
| 底部导航     | .footer    |

### 具体实施流程

1. 认真核对需求描述，明白要做什么
2. 认真核对适配要求，明白要做到什么程度
3. 按照目录规范创建项目目录
4. 拿到UI设计稿，进入页面研发
5. 用主流的弹性布局方案配合其他相关布局方式完成页面的研发工作
6. **遇到问题的解决思路** （优先自己思考，想不出来可以参考五六解决方案）
7. 研发完成之后自行测试页面的适配效果，有无明显适配缺陷（错乱、高度弹性、横向滚动条等）
8. 项目交付:名字.zip
   - 成品网页打包发给老师 
   - 个人复盘总结 MD 
9. 项目经理（讲师） 抽检点评  （预计晚自习）

### 技术方案参考

```css
1. 整体模块划分（header/scrollBox/footer）
   解决方案：
    0. 弹性盒子（纵向俩端固定中间自适应）
    1. 统一使用固定定位  让中间盒子的top等于上面盒子的高度，bottom等于下面盒子的高度达到自动适配高度的效果
    2. 头部和底部区域使用固定定位，然后给body一个上边距和下边距分别等于顶部盒子和底部盒子的高度

   推荐使用第1,2种：省事且不需要其他padding/margin等属性的参与计算，以后还会避免一些滚动bug

2. header区域
   分析：典型的两端固定中间自适应  圣杯布局
   解决方案：
     1.弹性盒子  固定像素 + flex:1
     2.绝对定位  中间盒子的left等于左边盒子的宽度，right等于右边盒子的宽度
   举一反三：左侧固定右侧自适应 / 右侧固定左侧自适应


3. 推荐区域
   分析：经典的按照份数分割区块
   解决方案：弹性盒子  
   坑：弹性容器中的子项的宽度比较‘弱势’,遇到某些情况容器被撑爆，比如说单行文本溢出
   解决方案：给以flex:2为宽度的盒子一个overflow：hidden就可以解决单行文本溢出的bug

4. 底部导航区域
   分析：非常典型的平分大盒子，并且内部元素需要进行居中处理
   解决方案：弹性盒子嵌套
     1.通过弹性盒子 + flex:1将四个主要区块平分
     2.内部的上下结构需要再使用一个弹性容器，然后修改主轴方向让元素垂直排布，最后使用主轴对齐和侧轴对齐让元素水平居中，垂直居中

5. svg图标转iconfont
   背景：设计人员对于网络字体图标一般不是太懂，直接交付给前端的多数是svg图标，如果我们想使用网络字体图标需要我们    自己去转化 如果大家没有github账号，可以使用png图片代替
   操作说明：
     1. 从UI那里拿到svg图标素材
     2. 打开阿里图标库 https://www.iconfont.cn/
     3. 点击上传按钮 上传svg格式的图片
     4. 下载为iconfont字体
```

### 实战项目复盘

#### 总结复盘

```css
1.关于搜索框
  产品角度讲 首页的搜索框只是作为了跳转到实际搜索页面的中介者，不发生实际输入
  技术角度讲 可点击区域可以设置为有灰色背景的整个区域

2.关于滚动
  全局滚动 发生滚动行为的是body元素   默认可以形成滚动
  局部滚动 发生滚动行为的是内部的元素  默认不开启滚动需要手动设置overflow:auto/scroll
  移动端  横向页面上的滚动不能出现  但是内部元素可以使用横向滚动


3.关于为了节省标签数量使用不容易扩展的写法
  一个盒子不要赋予太多的作用   
  各个盒子负责的布局功能尽量保持分离统一
  实现一个功能往往有很多很多方式，写一定数量之后，一定要使用产生bug最小的方式，心里负担最小的方式

4.关于移动端布局是否给一个显式的height值
  用于样式的icon图标，可以使用一个明确的宽高来设置
  用于内容展示的img图片，一般不给定死高度,高度随着宽度等比例变换
  用于内容展示的一般盒子，一般不给定高度，由内容撑开

5.关于移动端是否能使用float
  如果你十分的熟练，可以使用，但是移动端有自己特殊优势的布局方式，为啥不用呢
  建议大家多使用弹性盒子，甚至作为一个重中之重来深究

6.关于移动端横向是否可以使用margin
  1. 弹性容器中可以使用，一般不会发生盒子撑破的现象
  2. 非弹性容器中一般不建议使用margin来控制大区块的布局，因为容器产生横向滚动条这在移动端是不能接受的
  更好的方式是使用新的css3盒模型配合padding让空间往里撑而不是往外

7.关于移动端图片的适配问题（特指业务图片img）
  一般我们只需要给img百分之百的宽度，高度让其根据自身原来的宽高比自动撑开即可，然后通过包裹一个父元素做外层的布局，不可以用绝对像素写死图片的高度

8.关于最小字体问题 12px
  到目前有些版本chrome内核的浏览器最小支持到12px,如果设计稿中出现了小于12px的情况，可以直接按照UI图的像素值来写，让支持更小像素的浏览器使用更小像素，让不支持的默认回退到12px即可
  可以提前告诉UI关于字体的支持情况

9.关于激活态的实现
   html:
   <div>
     <div class="item">1</div>
     <div class="item active">2</div>
		 <div class="item">3</div>
   </div>
   css:
  // 默认样式
  .item{
    font-size:12px;
    color:#eee;
  }
  // 激活样式
  .item.active{
    font-size:13px;
    color:#ccc;
  }
 
```

#### 个人复盘

```css

```







# 总结

* 设计稿：是750px的大小的设计稿，上面的标注是375px设计的标注；所以为二倍图；二倍图如何测量？
  * 找个工具打开图，等比例缩小一半；
  * 在一半的图上进行标注测量；
  * 关闭不要保存图片；



* 布局：flex布局+rem等比适配
* 代码：优先使用less;
* 适配范围：320-750px;
* 交付：名字.zip
  * 项目文件夹
  * 个人总结;txt文档